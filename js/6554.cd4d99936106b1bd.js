"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6554],{6554:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(86070),i=n(30758),a=n(37671),r=n.n(a),c=n(13803);let o={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},l={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},u="mousemove",p="mouseup";function d(e,t){if(0===t)return e;let n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}var h=n(78151),b=n(98507);let g=e=>{let{subtitle:t,items:n=[],largeCutout:a,largeCutoutCaption:g}=e,[m,v]=(0,i.useState)(!1),[f,j]=(0,i.useState)(0),w=(0,i.useRef)(),O=e=>{var t;return(null===(t=e.pressLogo)||void 0===t?void 0:t.alt)?e.pressLogo.alt:e.source?"".concat(e.source," logo"):"Publication logo for this testimonial"},x=()=>{0===f?j((null==n?void 0:n.length)-1):j(f-1)},S=()=>{f===(null==n?void 0:n.length)-1?j(0):j(f+1)},T=function(e){var t,n,s;let a;let{trackMouse:r}=e,c=i.useRef(Object.assign({},l)),h=i.useRef(Object.assign({},o)),b=i.useRef(Object.assign({},h.current));for(a in b.current=Object.assign({},h.current),h.current=Object.assign(Object.assign({},o),e),o)void 0===h.current[a]&&(h.current[a]=o[a]);let[g,m]=i.useMemo(()=>(function(e,t){let n=t=>{let n="touches"in t;n&&t.touches.length>1||e((e,i)=>{i.trackMouse&&!n&&(document.addEventListener(u,s),document.addEventListener(p,r));let{clientX:a,clientY:c}=n?t.touches[0]:t,o=d([a,c],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{initial:o.slice(),xy:o,start:t.timeStamp||0})})},s=t=>{e((e,n)=>{let s="touches"in t;if(s&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:i,clientY:a}=s?t.touches[0]:t,[r,c]=d([i,a],n.rotationAngle),l=r-e.xy[0],u=c-e.xy[1],p=Math.abs(l),h=Math.abs(u),b=(t.timeStamp||0)-e.start,g=Math.sqrt(p*p+h*h)/(b||1),m=p>h?l>0?"Right":"Left":u>0?"Down":"Up",v="number"==typeof n.delta?n.delta:n.delta[m.toLowerCase()]||o.delta;if(p<v&&h<v&&!e.swiping)return e;let f={absX:p,absY:h,deltaX:l,deltaY:u,dir:m,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:[l/(b||1),u/(b||1)]};f.first&&n.onSwipeStart&&n.onSwipeStart(f),n.onSwiping&&n.onSwiping(f);let j=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${m}`])&&(j=!0),j&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:f,swiping:!0})})},i=t=>{e((e,n)=>{let s;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){s=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(s);let i=n[`onSwiped${s.dir}`];i&&i(s)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{eventData:s})})},a=()=>{document.removeEventListener(u,s),document.removeEventListener(p,r)},r=e=>{a(),i(e)},c=(e,t)=>{let a=()=>{};if(e&&e.addEventListener){let r=Object.assign(Object.assign({},o.touchEventOptions),t.touchEventOptions),c=[["touchstart",n,r],["touchmove",s,Object.assign(Object.assign({},r),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",i,r]];c.forEach(([t,n,s])=>e.addEventListener(t,n,s)),a=()=>c.forEach(([t,n])=>e.removeEventListener(t,n))}return a},h={ref:t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;let s={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),s.cleanUpTouch=void 0),n.trackTouch&&t&&(s.cleanUpTouch=c(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),s)})}};return t.trackMouse&&(h.onMouseDown=n),[h,c]})(e=>c.current=e(c.current,h.current),{trackMouse:r}),[r]);return c.current=(t=c.current,n=h.current,s=b.current,n.trackTouch&&t.el?t.cleanUpTouch?n.preventScrollOnSwipe!==s.preventScrollOnSwipe||n.touchEventOptions.passive!==s.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:m(t.el,n)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:m(t.el,n)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))),g}({onSwipedLeft:()=>{S()},onSwipedRight:()=>{x()}});return(0,i.useEffect)(()=>(w.current=setInterval(()=>{m||S()},4e3),()=>{clearInterval(w.current)}),[m,f]),(0,s.jsx)("div",{className:"testimonial pr mt4 mb4 p2",children:(0,s.jsx)("div",{className:"x container--1600 mxa",children:(0,s.jsxs)("div",{className:"b--teal bs5",children:[(0,s.jsx)("div",{className:"bg--teal color--white",children:(0,s.jsx)("span",{className:"dib p1 optima pl2--w1000 italic color--tan fs22--1000 bold",children:t})}),(0,s.jsxs)("div",{className:"row df fw jcb",...T,children:[(0,s.jsxs)("div",{className:(0,c.cn)("c12 col",{"c7--w800":a}),children:[(0,s.jsx)("div",{className:"testimonial__quote pt0 pb1 pl1 p3--w800",children:n.map((e,t)=>(0,s.jsxs)("div",{className:(0,c.cn)("quote pl0 pl2--w600 pt0 pb2 p4--w1000 pl4--w1400",t!==f&&"dn"),children:[(0,s.jsx)(r(),{blocks:e.text,serializers:b.A}),e.pressLogo&&(0,s.jsx)("img",{loading:"lazy",decoding:"async",className:"db cx mt2 c--black svg",src:(0,h.A)(e.pressLogo.url),alt:O(e),"aria-hidden":"false"})]},e._key))}),(0,s.jsx)("div",{className:(0,c.cn)("pl3--w800 pb4 pl8--w800 testimonial__numbers pl10--w1400 flex",(null==n?void 0:n.length)===1&&"dn"),children:n.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>j(t),className:(0,c.cn)("optima relative bold w-6 800:flex items-center text-[13px] hidden",{underline:f===t}),children:t+1}),(0,s.jsx)("button",{onClick:()=>j(t),className:(0,c.cn)("800:hidden relative px-[5px] before:block before:w-2.5 before:h-2.5 before:border before:border-black before:duration-200 before:transition-colors before:ease-linear before:rounded-full",{"before:bg-black":f===t}),"aria-label":"View image ".concat(t+1),"aria-current":f===t?"true":void 0})]},t))})]}),a&&(0,s.jsxs)("div",{className:"col pr c12 c5--w800 tr testimonial__person pen",children:[g&&(0,s.jsx)("div",{className:"testimonial__caption pa bottom tl left fs16 gara italic ",children:g}),(0,s.jsx)("div",{className:"x y pr testimonial__cutout",children:(0,s.jsxs)("picture",{children:[(0,s.jsx)("source",{srcSet:(0,h.A)(a.url,{w:2e3}),media:"(min-width: 1000px)"}),(0,s.jsx)("source",{srcSet:(0,h.A)(a.url,{w:1e3}),media:"(min-width: 600px)"}),(0,s.jsx)("img",{loading:"lazy",decoding:"async",alt:(null==a?void 0:a.alt)?a.alt:g?"Portrait of ".concat(g):"Portrait of testimonial provider",src:(0,h.A)(a.url,{w:800}),"aria-hidden":"false"})]})})]})]})]})})})}}}]);